import{r as T,j as a,c as N,R as O}from"./client-CYooLA_G.js";const G=()=>[...Array(96)].map((e,t)=>String.fromCharCode(t+12353)),v=()=>[...Array(96)].map((e,t)=>String.fromCharCode(t+12449)),I=()=>{const e=[...Array(26)].map((n,o)=>String.fromCharCode(o+97)),t=[...Array(26)].map((n,o)=>String.fromCharCode(o+65));return[...e,...t]},U=e=>e,M=e=>e,F=e=>e,x=["<h1>Heading</h1>",'<img src="img.png" alt="Img">','<a href="">Anchor</a>',"<script>alert('Script');<\/script>","<style>body{background: #000;}</style>"],A=["@","#","$","%","^","&","*","-","+","=","--","//","'",'"',"™️","©︎"],y=["😀","🐯","🍀","🔥","🍎","🏀","⛩️","🎉"],b=e=>new Promise(t=>setTimeout(t,e)),B=T.memo(({editableTexts:e,onEditableTextChange:t})=>{const[n,o]=T.useState(null),_=T.useRef([]);T.useEffect(()=>{_.current.forEach(l=>{l&&(l.style.height="auto",l.style.height=`${l.scrollHeight}px`)})},[e]);const u=async l=>{navigator.clipboard.writeText(e[l]),o(l),await b(3e3),o(null)};return a.jsx("section",{className:"gen-result",children:e.map((l,h)=>a.jsxs("div",{className:"gen-result__cont",children:[a.jsx("textarea",{value:e[h]||"",onChange:i=>t(h,i.target.value),ref:i=>{i!==null&&(_.current[h]=i)},rows:3}),a.jsxs("div",{className:"gen-result__cont-foot",children:[a.jsxs("p",{children:["文字数：",(e[h]||"").length]}),a.jsx("button",{onClick:()=>u(h),className:n===h?"clicked":"",children:n===h?"コピーしました！":"コピーする"})]})]},h))})}),$={charLength:10,hiragana:!1,katakana:!1,alphabet:!0,htmlTags:!1,specialChars:!1,pictographs:!1,customChar:"",numOfStrings:1,showHtmlTags:!1,selectedHtmlTags:[],showSpChars:!1,selectedSpChars:[],showPictographs:!1,selectedPictographs:[],useCustomChar:!1,isValidFormData:!1,htmlAccordionRef:T.createRef(),htmlTagsAccordionHeight:0,spCharsAccordionRef:T.createRef(),spCharsAccordionHeight:0,pictographsAccordionRef:T.createRef(),pictographAccordionHeight:0,isValidFormDate:!1,editableTexts:[],isGenText:!1},V=(e,t)=>{var n,o,_,u,l,h,i;switch(t.type){case"UPDATE_FORM_DATA":return{...e,...t.payload};case"TOGGLE_HTML_TAGS":{const p=!e.showHtmlTags,d=(o=(n=e.htmlAccordionRef)==null?void 0:n.current)!=null&&o.clientHeight?e.htmlAccordionRef.current.clientHeight+15:0;return{...e,showHtmlTags:p,htmlTagsAccordionHeight:d}}case"UPDATE_SELECTED_HTML_TAGS":return{...e,selectedHtmlTags:t.payload};case"TOGGLE_SP_CHARS":{const p=!e.showSpChars,d=(u=(_=e.spCharsAccordionRef)==null?void 0:_.current)!=null&&u.clientHeight?e.spCharsAccordionRef.current.clientHeight+15:0;return{...e,showSpChars:p,spCharsAccordionHeight:d}}case"UPDATE_SELECTED_SP_CHARS":return{...e,selectedSpChars:t.payload};case"TOGGLE_PICTOGRAPHS":{const p=!e.showPictographs,d=(h=(l=e.pictographsAccordionRef)==null?void 0:l.current)!=null&&h.clientHeight?((i=e.pictographsAccordionRef)==null?void 0:i.current.clientHeight)+15:0;return{...e,showPictographs:p,pictographAccordionHeight:d}}case"UPDATE_SELECTED_PICTOGRAPHS":return{...e,selectedPictographs:t.payload};case"SET_USE_CUSTOM_CHAR":return{...e,useCustomChar:t.payload};case"SET_IS_VALID_FORM_DATA":return{...e,isValidFormData:t.payload};case"UPDATE_EDITABLE_TEXTS":return{...e,editableTexts:t.payload};case"UPDATE_EDITABLE_TEXT":return{...e,editableTexts:e.editableTexts.map((p,d)=>d===t.payload.index?t.payload.value:p)};case"SET_IS_GEN_TEXT":return{...e,isGenText:t.payload};default:return e}},X=()=>{const[e,t]=T.useReducer(V,$),n=s=>{const{name:r,value:c,checked:g}=s.target;switch(r){case"customChar":t({type:"UPDATE_FORM_DATA",payload:{customChar:c,useCustomChar:c.trim()!==""}});break;case"charLength":case"numOfStrings":t({type:"UPDATE_FORM_DATA",payload:{[r]:parseInt(c,10)}});break;default:t({type:"UPDATE_FORM_DATA",payload:{[r]:g}});break}},o=()=>{t({type:"TOGGLE_HTML_TAGS"})},_=(s,r)=>{const c=r?[...e.selectedHtmlTags,s]:e.selectedHtmlTags.filter(g=>g!==s);t({type:"UPDATE_SELECTED_HTML_TAGS",payload:c}),t({type:"UPDATE_FORM_DATA",payload:{htmlTags:c.length>0}})},u=s=>{t({type:"UPDATE_SELECTED_HTML_TAGS",payload:s?x:[]}),t({type:"UPDATE_FORM_DATA",payload:{htmlTags:s}})},l=()=>{t({type:"TOGGLE_SP_CHARS"})},h=(s,r)=>{const c=r?[...e.selectedSpChars,s]:e.selectedSpChars.filter(g=>g!==s);t({type:"UPDATE_SELECTED_SP_CHARS",payload:c}),t({type:"UPDATE_FORM_DATA",payload:{specialChars:c.length>0}})},i=s=>{t({type:"UPDATE_SELECTED_SP_CHARS",payload:s?A:[]}),t({type:"UPDATE_FORM_DATA",payload:{specialChars:s}})},p=()=>{t({type:"TOGGLE_PICTOGRAPHS"})},d=(s,r)=>{const c=r?[...e.selectedPictographs,s]:e.selectedPictographs.filter(g=>g!==s);t({type:"UPDATE_SELECTED_PICTOGRAPHS",payload:c}),t({type:"UPDATE_FORM_DATA",payload:{pictographs:c.length>0}})},j=s=>{t({type:"UPDATE_SELECTED_PICTOGRAPHS",payload:s?y:[]}),t({type:"UPDATE_FORM_DATA",payload:{pictographs:s}})};T.useEffect(()=>{const s=e.charLength>0&&e.numOfStrings>0&&(e.hiragana||e.katakana||e.alphabet||e.htmlTags||e.specialChars||e.pictographs||e.customChar!=="");t({type:"SET_IS_VALID_FORM_DATA",payload:s})},[e.charLength,e.hiragana,e.katakana,e.alphabet,e.htmlTags,e.specialChars,e.pictographs,e.customChar,e.numOfStrings]);const k=async()=>{const{charLength:s,hiragana:r,katakana:c,alphabet:g,htmlTags:H,specialChars:R,pictographs:w,customChar:E,numOfStrings:L}=e,m=[],S=[];r&&m.push(...G()),c&&m.push(...v()),g&&m.push(...I()),H&&m.push(...U(e.selectedHtmlTags)),R&&m.push(...M(e.selectedSpChars)),w&&m.push(...F(e.selectedPictographs)),E&&m.push(E);for(let f=0;f<L;f++){let C="";for(;C.length<s;)C+=m[Math.floor(Math.random()*m.length)];C.length>s&&(C=C.slice(0,s)),S.push(C)}t({type:"UPDATE_EDITABLE_TEXTS",payload:S}),t({type:"SET_IS_GEN_TEXT",payload:!0}),await b(1e3),t({type:"SET_IS_GEN_TEXT",payload:!1}),P()},P=()=>{const s=document.querySelector(".gen-result");s==null||s.scrollIntoView({behavior:"smooth"})},D=(s,r)=>{t({type:"UPDATE_EDITABLE_TEXT",payload:{index:s,value:r}})};return a.jsxs("section",{className:"rand-str-gen",children:[a.jsx("h1",{children:"ランダム文字列生成"}),a.jsxs("form",{className:"rand-str-gen__form",children:[a.jsx("label",{className:"rand-str-gen__form-label rand-str-gen__form-label-number",children:a.jsxs("div",{children:["文字数：",a.jsx("input",{type:"number",name:"charLength",value:e.charLength,onChange:n,min:1,max:1e3})]})}),a.jsx("label",{className:"rand-str-gen__form-label",children:a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",name:"hiragana",checked:e.hiragana,onChange:n}),"ひらがな"]})}),a.jsx("label",{className:"rand-str-gen__form-label",children:a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",name:"katakana",checked:e.katakana,onChange:n}),"カタカナ"]})}),a.jsx("label",{className:"rand-str-gen__form-label",children:a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",name:"alphabet",checked:e.alphabet,onChange:n}),"アルファベット"]})}),a.jsxs("label",{className:"rand-str-gen__form-label",children:[a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",name:"htmlTags",checked:e.htmlTags,onChange:o}),"HTMLタグ"]}),a.jsx("p",{className:`rand-str-gen__accordion-icon ${e.showHtmlTags?"open":""}`})]}),a.jsx("div",{style:{height:e.showHtmlTags?`${e.htmlTagsAccordionHeight}px`:"0px",opacity:e.showHtmlTags?1:0},className:"rand-str-gen__accordion-wrap",children:a.jsxs("div",{ref:e.htmlAccordionRef,className:"rand-str-gen__accordion-cont",children:[a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:e.selectedHtmlTags.length===x.length,onChange:s=>u(s.target.checked)}),e.selectedHtmlTags.length===x.length?"全てのチェックを外す":"全てチェックする"]}),a.jsx("div",{className:"checkBoxInput",children:x.map((s,r)=>a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:e.selectedHtmlTags.includes(s),onChange:c=>_(s,c.target.checked)}),s]},r))})]})}),a.jsxs("label",{className:"rand-str-gen__form-label",children:[a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",name:"specialChars",checked:e.specialChars,onChange:l}),"特殊文字"]}),a.jsx("span",{className:`rand-str-gen__accordion-icon ${e.showSpChars?"open":""}`})]}),a.jsx("div",{style:{height:e.showSpChars?`${e.spCharsAccordionHeight}px`:"0px",opacity:e.showSpChars?1:0},className:"rand-str-gen__accordion-wrap",children:a.jsxs("div",{ref:e.spCharsAccordionRef,className:"rand-str-gen__accordion-cont",children:[a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:e.selectedSpChars.length===A.length,onChange:s=>i(s.target.checked)}),e.selectedSpChars.length===A.length?"全てのチェックを外す":"全てチェックする"]}),a.jsx("div",{className:"checkBoxInput",children:A.map((s,r)=>a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:e.selectedSpChars.includes(s),onChange:c=>h(s,c.target.checked)}),s]},r))})]})}),a.jsxs("label",{className:"rand-str-gen__form-label",children:[a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",name:"pictographs",checked:e.pictographs,onChange:p}),"絵文字"]}),a.jsx("span",{className:`rand-str-gen__accordion-icon ${e.showPictographs?"open":""}`})]}),a.jsx("div",{style:{height:e.showPictographs?`${e.pictographAccordionHeight}px`:"0px",opacity:e.showPictographs?1:0},className:"rand-str-gen__accordion-wrap",children:a.jsxs("div",{ref:e.pictographsAccordionRef,className:"rand-str-gen__accordion-cont",children:[a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:e.selectedPictographs.length===y.length,onChange:s=>j(s.target.checked)}),e.selectedPictographs.length===y.length?"全てのチェックを外す":"全てチェックする"]}),a.jsx("div",{className:"checkBoxInput",children:y.map((s,r)=>a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:e.selectedPictographs.includes(s),onChange:c=>d(s,c.target.checked)}),s]},r))})]})}),a.jsxs("label",{className:"rand-str-gen__form-label",children:[a.jsx("input",{type:"checkbox",checked:e.useCustomChar,onChange:n}),"カスタム：",a.jsx("input",{type:"text",name:"customChar",value:e.customChar,onChange:n})]}),a.jsxs("label",{className:"rand-str-gen__form-label rand-str-gen__form-label-number",children:["生成文字列数：",a.jsx("input",{type:"number",name:"numOfStrings",value:e.numOfStrings,onChange:n,min:1,max:30})]})]}),a.jsx("button",{onClick:k,className:`rand-str-gen__gen-btn ${e.isGenText?"clicked":""} ${e.isValidFormData?"":"disabled"}`,children:e.isGenText?"生成中です":"生成する"}),a.jsx(B,{editableTexts:e.editableTexts,onEditableTextChange:D})]})};N.createRoot(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(X,{})}));
